{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export function getImages(query) {\n        const BASE_URL = 'https://pixabay.com/api/';\n        const params = new URLSearchParams ({\n            key: '43111916-8a66f764b7b1580d41f140627',\n            q: query,\n            image_type: 'photo',\n            orientation : 'horizontal',\n            safesearch : 'true',\n        });\n    \n        const url = `${BASE_URL}?${params}`;\n    \n        return fetch(url).then(response => {\n            if (!response.ok) {\n    \n                throw new Error(response.status)\n            }\n    \n            return response.json();\n    });\n    }\n\n\n","import SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nconst gallery  = document.querySelector(\".gallery\");\n\nconst lightbox = new SimpleLightbox('.gallery a', {\n    captionsData: 'alt',});\n\n    export function renderMarkup(data) {\n        const galleryMArkup = data.map(({ webformatURL, largeImageURL, tags, likes, views, comments, downloads }) => {\n            return `<li class=\"item-image\">\n                <a class=\"photos-list-link\" href=\"${largeImageURL}\">             <img class=\"photo\" src=\"${webformatURL}\" alt=\"${tags}\"/>             </a>             <ul class=\"photo-information-container\">                <li class=\"item-photo-information-container\"><p><span class=\"accent\">Likes</span>${likes}</p></li>\n                <li class=\"item-photo-information-container\"><p><span class=\"accent\">Views</span>${views}</p></li>                <li class=\"item-photo-information-container\"><p><span class=\"accent\">Comments</span>${comments}</p></li>                 <li class=\"item-photo-information-container\"><p><span class=\"accent\">Downloads</span>${downloads}</p></li>                </ul>                </li>`;\n            })  \n            .join(\"\");\n\n            gallery.insertAdjacentHTML  ('beforeend', galleryMArkup);\n\n            lightbox.refresh();\n    }","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport { getImages} from './js/pixabay-api';\nimport { renderMarkup } from './js/render-functions';  \n\nlet query;\nconst gallery  = document.querySelector(\".gallery\");\nconst preloader = document.querySelector(\".loader\");\nconst form = document.querySelector(\".js-form\");\n\nfunction showLoader() {\n  preloader.classList.remove(\"is-hidden\")\n};\nfunction hideLoader() {\npreloader.classList.add(\"is-hidden\")\n};\n\n\nform.addEventListener(\"submit\", validInput);\n\nfunction validInput(event){\n\n  event.preventDefault();\n\n  gallery.innerHTML = \"\";\n\n  query = event.target.elements.search.value.trim();\n\n  showLoader();\n  \n  if (query === \"\") {\n      iziToast.warning({\n          color: 'yellow',\n          message: \"Please fill in the field for search!\",\n          position: 'topRight'\n      })\n      return\n  }\n    getImages(query).then(data =>{\n      if (data.hits.length === 0) {\n          iziToast.error({\n            message: \"Sorry, there are no images matching your search query. Please try again!\",\n            backgroundColor: \"red\",\n            messageColor: \"white\",\n            position: 'topRight'})\n          }\n          renderMarkup(data.hits)\n\n          event.target.reset();\n          \n      return\n    })\n    .catch(error => {console.log(error);\n          iziToast.error({\n            title: 'Error',\n            message: `Sorry, there are no images matching your search query. Please, try again!`,\n            position: 'topRight'}\n            )\n          }).finally(() => hideLoader())\n        }"],"names":["getImages","query","BASE_URL","params","url","response","gallery","lightbox","SimpleLightbox","renderMarkup","data","galleryMArkup","webformatURL","largeImageURL","tags","likes","views","comments","downloads","preloader","form","showLoader","hideLoader","validInput","event","iziToast","error"],"mappings":"6vBAAO,SAASA,EAAUC,EAAO,CACzB,MAAMC,EAAW,2BACXC,EAAS,IAAI,gBAAiB,CAChC,IAAK,qCACL,EAAGF,EACH,WAAY,QACZ,YAAc,aACd,WAAa,MACzB,CAAS,EAEKG,EAAM,GAAGF,CAAQ,IAAIC,CAAM,GAEjC,OAAO,MAAMC,CAAG,EAAE,KAAKC,GAAY,CAC/B,GAAI,CAACA,EAAS,GAEV,MAAM,IAAI,MAAMA,EAAS,MAAM,EAGnC,OAAOA,EAAS,MAC5B,CAAK,CACL,CCjBA,MAAMC,EAAW,SAAS,cAAc,UAAU,EAE5CC,EAAW,IAAIC,EAAe,aAAc,CAC9C,aAAc,KAAK,CAAE,EAEd,SAASC,EAAaC,EAAM,CAC/B,MAAMC,EAAgBD,EAAK,IAAI,CAAC,CAAE,aAAAE,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAS,IAC3F;AAAA,oDACiCL,CAAa,0CAA0CD,CAAY,UAAUE,CAAI,6KAA6KC,CAAK;AAAA,mGACpNC,CAAK,gHAAgHC,CAAQ,kHAAkHC,CAAS,qDAC9U,EACA,KAAK,EAAE,EAERZ,EAAQ,mBAAqB,YAAaK,CAAa,EAEvDJ,EAAS,QAAO,CAC5B,CCdA,IAAIN,EACJ,MAAMK,EAAW,SAAS,cAAc,UAAU,EAC5Ca,EAAY,SAAS,cAAc,SAAS,EAC5CC,EAAO,SAAS,cAAc,UAAU,EAE9C,SAASC,GAAa,CACpBF,EAAU,UAAU,OAAO,WAAW,CACxC,CACA,SAASG,GAAa,CACtBH,EAAU,UAAU,IAAI,WAAW,CACnC,CAGAC,EAAK,iBAAiB,SAAUG,CAAU,EAE1C,SAASA,EAAWC,EAAM,CAUxB,GARAA,EAAM,eAAc,EAEpBlB,EAAQ,UAAY,GAEpBL,EAAQuB,EAAM,OAAO,SAAS,OAAO,MAAM,OAE3CH,IAEIpB,IAAU,GAAI,CACdwB,EAAS,QAAQ,CACb,MAAO,SACP,QAAS,uCACT,SAAU,UACpB,CAAO,EACD,MACH,CACCzB,EAAUC,CAAK,EAAE,KAAKS,GAAO,CACvBA,EAAK,KAAK,SAAW,GACrBe,EAAS,MAAM,CACb,QAAS,2EACT,gBAAiB,MACjB,aAAc,QACd,SAAU,UAAU,CAAC,EAEvBhB,EAAaC,EAAK,IAAI,EAEtBc,EAAM,OAAO,OAGvB,CAAK,EACA,MAAME,GAAS,CAAC,QAAQ,IAAIA,CAAK,EAC5BD,EAAS,MAAM,CACb,MAAO,QACP,QAAS,4EACT,SAAU,UAAU,CACnB,CACb,CAAW,EAAE,QAAQ,IAAMH,GAAY,CACvC"}